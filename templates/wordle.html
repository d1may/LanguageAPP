{% extends "base.html" %}

{% block title %}Wordle{% endblock %}

{% block extra_head %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', path='/wordle.css') }}" data-theme-sheet="amber">
  <link rel="stylesheet" href="{{ url_for('static', path='/wordle.sapphire.css') }}" data-theme-sheet="sapphire" disabled>
{% endblock %}

{% block body_class %}wordle-body{% endblock %}

{% block header %}
  {% include "partials/header.html" %}
{% endblock %}

{% block content %}
<main class="wordle-shell">
  <section class="wordle-panel">
    <div class="wordle-mode-picker">
      <span class="mode-label">Choose mode</span>
      <div class="mode-buttons">
        <button type="button" class="mode-btn" data-size="4">4 letters</button>
        <button type="button" class="mode-btn active" data-size="5">5 letters</button>
        <button type="button" class="mode-btn" data-size="6">6 letters</button>
      </div>
    </div>

    <div class="wordle-language-card">
      <span class="muted">Word language</span>
      <strong class="language-value" id="wordle-language">English</strong>
    </div>

    <header class="wordle-headline">
      <div>
        <h1>Let's play Wordle.</h1>
        <p class="muted">Guess the hidden word in six tries. Letters change color to give you hints.</p>
      </div>
    </header>

    <div class="wordle-board" role="grid" aria-label="Wordle board">
      <div class="wordle-row" role="row" style="--cols:5">
        <div class="tile tile-correct" role="gridcell" aria-label="Correct letter W in correct spot">W</div>
        <div class="tile tile-present" role="gridcell">O</div>
        <div class="tile" role="gridcell">R</div>
        <div class="tile tile-miss" role="gridcell">D</div>
        <div class="tile" role="gridcell">S</div>
      </div>
      <div class="wordle-row" role="row" style="--cols:5">
        <div class="tile tile-miss" role="gridcell">S</div>
        <div class="tile tile-correct" role="gridcell">T</div>
        <div class="tile tile-present" role="gridcell">A</div>
        <div class="tile" role="gridcell">R</div>
        <div class="tile" role="gridcell">T</div>
      </div>
      <div class="wordle-row" role="row" style="--cols:5">
        <div class="tile" role="gridcell">T</div>
        <div class="tile" role="gridcell">R</div>
        <div class="tile" role="gridcell">A</div>
        <div class="tile" role="gridcell">I</div>
        <div class="tile" role="gridcell">N</div>
      </div>
      <div class="wordle-row" role="row" style="--cols:5">
        <div class="tile" role="gridcell"></div>
        <div class="tile" role="gridcell"></div>
        <div class="tile" role="gridcell"></div>
        <div class="tile" role="gridcell"></div>
        <div class="tile" role="gridcell"></div>
      </div>
      <div class="wordle-row" role="row" style="--cols:5">
        <div class="tile" role="gridcell"></div>
        <div class="tile" role="gridcell"></div>
        <div class="tile" role="gridcell"></div>
        <div class="tile" role="gridcell"></div>
        <div class="tile" role="gridcell"></div>
      </div>
      <div class="wordle-row" role="row" style="--cols:5">
        <div class="tile" role="gridcell"></div>
        <div class="tile" role="gridcell"></div>
        <div class="tile" role="gridcell"></div>
        <div class="tile" role="gridcell"></div>
        <div class="tile" role="gridcell"></div>
      </div>
    </div>

    <div class="wordle-game-actions">
      <button type="button" class="wordle-start-btn" id="wordle-start">Start</button>
      <button type="button" class="wordle-send-btn ghost" id="wordle-send" hidden>Send</button>
      <button type="button" class="wordle-again-btn ghost" id="wordle-again" hidden>Send</button>
    </div>

    <div class="wordle-alert" id="wordle-alert" hidden>Keep going! 3 attempts left.</div>

    <div class="wordle-keyboard" id="wordle-keyboard" aria-label="On-screen keyboard" hidden></div>
  </section>

  <aside class="wordle-side">
    <div class="wordle-card">
      <h3>How to Play</h3>
      <ol class="howto">
        <li>Enter a valid five-letter word.</li>
        <li>Letters turn <span class="badge badge-correct">Correct</span> when they are in the right spot.</li>
        <li><span class="badge badge-present">Present</span> letters appear elsewhere in the word.</li>
        <li><span class="badge badge-miss">Miss</span> means the letter is not in the target word.</li>
      </ol>
      <p class="muted">Practice daily to build your vocabulary streak.</p>
    </div>

    <div class="wordle-card">
      <h3>Daily Wordle</h3>
      <p class="muted">Guess the hidden word in six tries. Letters change color to give you hints.</p>
      <div class="wordle-score">
        <div class="score-item">
          <span class="score-title">Played</span>
          <strong id="wordle-played-count">{{ wordle_stats.played | default(0) }}</strong>
        </div>
        <div class="score-item">
          <span class="score-title">Wins</span>
          <strong id="wordle-win-count">{{ wordle_stats.wins | default(0) }}</strong><span class="score-procent">%</span>
        </div>
        <div class="score-item">
          <span class="score-title">Streak</span>
          <strong id="wordle-streak-count">{{ wordle_stats.win_streak | default(0) }}</strong>
        </div>
      </div>
    </div>
  </aside>
</main>

{% endblock %}

{% block scripts %}
<script type="module" src="{{ url_for('static', path='/wordle.js') }}"></script>
{% endblock %}
